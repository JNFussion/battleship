(self.webpackChunkbattleship=self.webpackChunkbattleship||[]).push([[757],{6838:(t,r,n)=>{"use strict";n.d(r,{Z:()=>s});var e=n(1798),o=n.n(e),i=n(1997),c=n(9443);const s=function(){var t=(0,i.Z)(c.O.PJ1,!0),r=(0,i.Z)(c.O.PJ2,!1,!0);function n(t,r,e){var i=t.attack(r,e);if(i.goodHit){if(o().publish("newIcon",{iconType:"hit",coords:{x:i.attackedCoords[1],y:i.attackedCoords[0]},playerID:r.id}),!t.isPc()){var c=r.board.getCell(e);c.ship.isSunk()&&o().publish("showSunkenShip",{playerID:r.id,size:c.ship.size,coords:c.startCoords})}}else o().publish("newIcon",{iconType:"water",coords:{x:i.attackedCoords[1],y:i.attackedCoords[0]},playerID:r.id});r.board.allAreSunk()&&o().publish("endGame",t.id),r.isPc()&&setTimeout((function(){n(r,t)}),500)}var e={playRound:function(e){var o=e.id,i=e.coords,c=t.turn?t:r,s=c===t?r:t;c.id!==o&&n(c,s,i)},round:n};function s(t,r){e[t](r)}return o().subscribe("playRound",s),{player1:t,player2:r,subcriptionHandler:s}}()},1798:function(t,r,n){t=n.nmd(t),function(n,e){"use strict";var o={};n.PubSub=o,function(t){var r={},n=-1;function e(t,r,n){try{t(r,n)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function o(t,r,n){t(r,n)}function i(t,n,i,c){var s,u=r[n],a=c?o:e;if(Object.prototype.hasOwnProperty.call(r,n))for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&a(u[s],t,i)}function c(t){var n=String(t);return Boolean(Object.prototype.hasOwnProperty.call(r,n)&&function(t){var r;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r))return!0;return!1}(r[n]))}function s(t,r,n,e){var o=function(t,r,n){return function(){var e=String(t),o=e.lastIndexOf(".");for(i(t,t,r,n);-1!==o;)o=(e=e.substr(0,o)).lastIndexOf("."),i(t,e,r,n);i(t,"*",r,n)}}(t="symbol"==typeof t?t.toString():t,r,e);return!!function(t){for(var r=String(t),n=c(r)||c("*"),e=r.lastIndexOf(".");!n&&-1!==e;)e=(r=r.substr(0,e)).lastIndexOf("."),n=c(r);return n}(t)&&(!0===n?o():setTimeout(o,0),!0)}t.publish=function(r,n){return s(r,n,!1,t.immediateExceptions)},t.publishSync=function(r,n){return s(r,n,!0,t.immediateExceptions)},t.subscribe=function(t,e){if("function"!=typeof e)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(r,t)||(r[t]={});var o="uid_"+String(++n);return r[t][o]=e,o},t.subscribeAll=function(r){return t.subscribe("*",r)},t.subscribeOnce=function(r,n){var e=t.subscribe(r,(function(){t.unsubscribe(e),n.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){r={}},t.clearSubscriptions=function(t){var n;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&0===n.indexOf(t)&&delete r[n]},t.countSubscriptions=function(t){var n,e,o=0;for(n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&0===n.indexOf(t)){for(e in r[n])o++;break}return o},t.getSubscriptions=function(t){var n,e=[];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&0===n.indexOf(t)&&e.push(n);return e},t.unsubscribe=function(n){var e,o,i,c="string"==typeof n&&(Object.prototype.hasOwnProperty.call(r,n)||function(t){var n;for(n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&0===n.indexOf(t))return!0;return!1}(n)),s=!c&&"string"==typeof n,u="function"==typeof n,a=!1;if(!c){for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){if(o=r[e],s&&o[n]){delete o[n],a=n;break}if(u)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&o[i]===n&&(delete o[i],a=!0)}return a}t.clearSubscriptions(n)}}(o),void 0!==t&&t.exports&&(r=t.exports=o),r.PubSub=o,t.exports=r=o}("object"==typeof window&&window||this)}},t=>{t.O(0,[35,359],(()=>(6838,t(t.s=6838)))),t.O()}]);